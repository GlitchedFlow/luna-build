# This workflow will build a .NET project
# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net

name: Build CLI

on:
  workflow_run:
    workflows:
      - Generate Solution
    types:
      - completed

jobs:        
  build:
    runs-on: ${{ matrix.os }}

    strategy:
      matrix:
        os: [ linux-latest, windows-latest, macos-latest ]

    steps:
      - uses: actions/checkout@v4
      - name: Get Solution
        uses: dawidd6/action-download-artifact@v3
        with:
          workflow: dotnet_cli.yml
          workflow_conclusion: success
          branch: main
          name: solution-artifact
          path: ./solution
      - name: Build CLI
        run: dotnet build ./solution/Windows/Luna/CLI/CLI.csproj
  
